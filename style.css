:root{
  --bg:#0b1226;
  --panel:#0e1730;
  --text:#eaf2fb;
  --muted:#9db0c6;
  --line:rgba(255,255,255,.1);
  --accent:#7dd3fc;
  --active:#a78bfa;
}

*{
  box-sizing:border-box;
  -webkit-tap-highlight-color: transparent;
}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font:500 16px/1.5 Manrope,system-ui,Segoe UI,Roboto,Arial;
}

.hidden{display:none}

/* === Onboarding === */
.onboard{
  position:fixed; inset:0;
  display:grid; place-items:center;
  background:rgba(5,10,25,.92);
  z-index:100;
}
.onboard-card{
  width:min(520px,92vw);
  background:#0f1938;
  border:1px solid var(--line);
  border-radius:18px;
  padding:22px;
  box-shadow:0 30px 80px rgba(0,0,0,.5);
}
.onboard-card h1{
  margin:8px 0 10px;
  font-size:22px;
}
.onboard-card input{
  width:100%;
  margin:6px 0;
  border:1px solid var(--line);
  border-radius:12px;
  padding:12px;
  background:#0a1328;
  color:#fff;
}
.onboard-card button{
  margin-top:8px;
  width:100%;
  border:1px solid rgba(167,139,250,.55);
  background:#101a38;
  color:#fff;
  border-radius:12px;
  padding:12px 14px;
  cursor:pointer;
}
.brand-lg{
  font-size:22px;
  font-weight:800;
}

/* === App Layout === */
.app{
  min-height:100vh;
  display:grid;
  grid-template-rows:auto 1fr auto;
}

.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 16px;
  background:linear-gradient(180deg,#0f1836,#0b1226);
  border-bottom:1px solid var(--line);
}
.top-title{
  font-weight:800;
}
.icon-btn{
  background:transparent;
  border:1px solid var(--line);
  color:#fff;
  border-radius:10px;
  padding:6px 10px;
  margin-left:6px;
  cursor:pointer;
}

.content{
  padding:16px 16px 84px;
}
.view{display:none}
.view.active{display:block}

/* === Day Tasks === */
#tasks{
  list-style:none;
  padding:0;
  margin:0;
  display:grid;
  gap:8px;
}
#tasks li{
  display:flex;
  align-items:center;
  gap:10px;
  background:var(--panel);
  border:1px solid var(--line);
  padding:10px 12px;
  border-radius:12px;
  cursor:pointer;
}
#tasks li.done{
  opacity:.7;
  text-decoration:line-through;
}
.controls{
  margin-top:10px;
  display:flex;
  gap:8px;
}
.controls input{
  flex:1;
  border:1px solid var(--line);
  background:#0a1328;
  color:#fff;
  border-radius:10px;
  padding:10px 12px;
}
.controls button{
  border:1px solid rgba(167,139,250,.45);
  background:#101a38;
  color:#fff;
  border-radius:10px;
  padding:10px 14px;
  cursor:pointer;
}

/* === Charts === */
canvas{
  display:block;
  background:linear-gradient(180deg,rgba(255,255,255,.03),transparent);
  border:1px solid var(--line);
  border-radius:16px;
}

/* === Bottom Navigation === */
.bottom-nav{
  position:fixed;
  left:0; right:0; bottom:0;
  display:flex;
  justify-content:space-around;
  gap:4px;
  padding:8px 10px;
  background:#0c1530;
  border-top:1px solid var(--line);
  z-index:30;
}
.tab{
  position:relative;
  min-width:62px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:2px;
  background:transparent;
  border:none;
  font-weight:700;
  padding:4px 6px;
  color:var(--muted);
  cursor:pointer;
}
.tab .ico{
  font-size:18px;
  color:var(--accent);
}
.tab.active{
  color:var(--active);
}
.tab.active .ico{
  color:var(--accent);
}
.badge{
  position:absolute;
  top:-2px;
  right:10px;
  background:#d93025;
  color:#fff;
  font:800 10px/1 Manrope;
  padding:2px 6px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.15);
}

/* === Profile Modal === */
.profile-modal{
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
  background:rgba(4,8,20,.75);
  z-index:60;
}
.modal-card{
  width:min(540px,92vw);
  background:#0f1938;
  border:1px solid var(--line);
  border-radius:18px;
  padding:16px;
}
.modal-head{
  display:flex;
  align-items:center;
  gap:12px;
}
.close{
  margin-left:auto;
  background:transparent;
  border:1px solid var(--line);
  border-radius:8px;
  color:#fff;
  padding:4px 8px;
  cursor:pointer;
}
.avatar-wrap{
  width:64px;
  height:64px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#0a1328;
  display:flex;
  align-items:center; justify-content:center;
  overflow:hidden;
}
.avatar-wrap img{
  max-width:100%; max-height:100%;
}
.modal-body{
  display:grid;
  gap:8px;
  margin-top:10px;
}
.modal-body input{
  border:1px solid var(--line);
  border-radius:12px;
  background:#0a1328;
  color:#fff;
  padding:10px 12px;
}
.file-label{
  font-size:12px;
  color:var(--muted);
}
.modal-actions{
  display:flex;
  gap:8px;
  margin-top:8px;
}
.modal-actions button{
  flex:1;
  border:1px solid rgba(167,139,250,.45);
  background:#101a38;
  color:#fff;
  border-radius:10px;
  padding:10px 14px;
  cursor:pointer;
}

/* === Hero + Achievements === */
.hero-card{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:14px;
  padding:14px 16px;
  margin-bottom:12px;
}
.hero-title{font-weight:800;margin-bottom:8px}
.hero-progress{
  height:12px;
  background:#0a1328;
  border:1px solid var(--line);
  border-radius:999px;
  overflow:hidden;
}
#heroBar{
  height:100%;
  width:0;
  background:linear-gradient(90deg,#7dd3fc,#a78bfa);
}
.ach-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:12px;
}
.ach-card{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px;
}

/* === Quests basic UI === */
.quests{
  display:grid;
  gap:10px;
}

/* === Focus basic UI === */
.focus-box{
  display:grid;
  gap:10px;
}
.focus-timer{
  font-size:36px;
  font-weight:900;
  text-align:center;
}
.focus-controls{
  display:flex;
  justify-content:center;
  gap:8px;
}
.focus-controls button{
  border:1px solid rgba(167,139,250,.45);
  background:#101a38;
  color:#fff;
  border-radius:10px;
  padding:8px 14px;
  cursor:pointer;
}